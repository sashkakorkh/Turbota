/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/functions.js */ \"./src/js/modules/functions.js\");\n/* harmony import */ var _modules_creatingVisit_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/creatingVisit.js */ \"./src/js/modules/creatingVisit.js\");\n/* harmony import */ var _modules_login_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/login.js */ \"./src/js/modules/login.js\");\n/* harmony import */ var _modules_cardVisit_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/cardVisit.js */ \"./src/js/modules/cardVisit.js\");\n/* harmony import */ var _modules_editCard_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/editCard.js */ \"./src/js/modules/editCard.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.isWebp();\r\n\r\n//select-custom\r\n\r\n\r\n/*==========================================*/\r\n// log-in\r\n/*==========================================*/\r\n\r\n(0,_modules_login_js__WEBPACK_IMPORTED_MODULE_2__.openLogin)()\r\n;(0,_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.creatingSelectObject)('[data-custom]')\r\n\r\n\r\n\r\n\r\n/*==========================================*/\r\n/*Modal create visit*/\r\n/*==========================================*/\r\n;(0,_modules_creatingVisit_js__WEBPACK_IMPORTED_MODULE_1__.openVisitModal)()\r\n\r\n// Фільтр input\r\nlet input =document.querySelector(\".filters__search\")\r\nlet visitContainer = document.getElementById('visitContainer');\r\n\r\nfunction fil (){\r\n    let card=document.querySelectorAll(\".visit__form_patient\")\r\n    let filter=input.value.toLowerCase()\r\n    card.forEach(el=>{\r\n         if (el.innerHTML.toLowerCase().indexOf(filter)>-1){\r\n        el.parentNode.style.display=\"grid\"\r\n  }\r\nelse {\r\n    el.parentNode.style.display=\"none\"\r\n}\r\n\r\n})\r\n\r\n}\r\ninput.addEventListener(\"keyup\",fil)\r\n\r\nlet seach =document.querySelector(\".btn__search\")\r\nconsole.log(seach)\r\nfunction seachSelector (e) {\r\n    e.preventDefault()\r\n    const status = document.querySelector('[data-custom]')\r\n  console.log(status)  \r\n\r\n    const selectedStatus = status.nextElementSibling.querySelector('.selected').outerText\r\n    let statusCard=document.getElementById('visitContainer').children\r\n    console.log(statusCard)\r\n    Array.from(statusCard).forEach(st=>{if (st.dataset.name==selectedStatus.toLowerCase()){\r\n        st.style.display=\"grid\"\r\n    }\r\nelse {\r\n    st.style.display=\"none\"\r\n}})\r\n\r\n}\r\nseach.addEventListener(\"click\",seachSelector)\r\n\r\nlet inputStatus = document.querySelectorAll(\".custom-select-container\")\r\ninputStatus.forEach(element=>element.addEventListener(\"click\", (e)=> {\r\n    \r\n    let selectedStatus=e.target.getAttribute('data-value');\r\n    \r\n    let cards=document.getElementById('visitContainer').children;\r\n   \r\n    Array.from(cards).forEach(card=>{\r\n        if (card.dataset.urg==selectedStatus||card.dataset.name==selectedStatus){\r\n        card.style.display=\"grid\"\r\n    }\r\n    else {card.style.display=\"none\"}\r\n})\r\n}))\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/app.js?");

/***/ }),

/***/ "./src/js/modules/cardVisit.js":
/*!*************************************!*\
  !*** ./src/js/modules/cardVisit.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Visit\": () => (/* binding */ Visit),\n/* harmony export */   \"cardVisit\": () => (/* binding */ cardVisit)\n/* harmony export */ });\n/* harmony import */ var _login_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./login.js */ \"./src/js/modules/login.js\");\n/* harmony import */ var _editCard_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editCard.js */ \"./src/js/modules/editCard.js\");\n\r\n\r\nlet visitContainer = document.getElementById('visitContainer');\r\n\r\nclass Visit {\r\n    constructor (doctor,name,purpose,description,urgency,id,status,doctorname){\r\n        this.doctor=doctor\r\n        this.name=name\r\n        this.purpose=purpose\r\n        this.description=description\r\n        this.urgency=urgency\r\n        this.id=id   \r\n        this.status=status\r\n        this.doctorname=doctorname   \r\n    }\r\n        render () {\r\n\r\n            let visitCard = `<div data-urg=\"${this.urgency}\" data-name=\"${this.status}\" data-id=\"${this.id}\" class=\"visit__form\">\r\n            <div data-id =\"button${this.id}\" class=\"visit__form_delete\"></div>\r\n            \r\n            <p class=\"visit__form_patient\">Patient: ${this.name}</p>\r\n            <p>Doctor: ${this.doctorname}</p>\r\n           \r\n           \r\n            <div data-id='visit${this.id}' class=\"visit__form_button\">\r\n            <button data-id =\"morebutton${this.id}\"  class=\"visit__form_more\">Show more</button>\r\n            <button  data-id =\"editbtn${this.id}\" class=\"visit__form_edit\">Edit</button>\r\n            </div>\r\n            </div>\r\n            `\r\n            console.log(`${this.urgency}`)\r\n            visitContainer.insertAdjacentHTML('beforeend',visitCard)\r\n            const botton = document.querySelector(`[data-id='button${this.id}']`)\r\n            botton.addEventListener('click', () => {\r\n             deleteCard(this.id) \r\n\r\n              \r\n\r\n            \r\n             })\r\n             \r\n    let editButton=document.querySelector(`[data-id='editbtn${this.id}']`)\r\n    editButton.addEventListener('click', async () => {await (0,_editCard_js__WEBPACK_IMPORTED_MODULE_1__.editCard)(_login_js__WEBPACK_IMPORTED_MODULE_0__.token,this.id)\r\n    console.log(editButton)})\r\n\r\n             let button=document.querySelector(`[data-id='morebutton${this.id}']`)\r\n\r\n            button.addEventListener('click', () => {\r\n            more(this.id)})\r\n        }\r\n}\r\n\r\nclass VisitDantist extends Visit {\r\n    constructor (doctor,name,purpose,description,urgency,id,status,doctorname,date){\r\n        super(doctor,name,purpose,description,urgency,id,status,doctorname)\r\n        this.date=date\r\n    }\r\n    render(){\r\n        let visitDantistContainer=` \r\n        <p>Status: ${this.status}</p>\r\n        <p>Purpose of the visit: ${this.purpose}</p>\r\n        <p>Brief description of the visit: ${this.description}</p>\r\n        <p>Urgensy: ${this.urgency}</p>\r\n        <p>Date of last visit: ${this.date}</p>\r\n        `\r\n        let visitcontent=document.querySelector(`[data-id='visit${this.id}']`)\r\n        visitcontent.insertAdjacentHTML('beforebegin',visitDantistContainer)\r\n\r\n    }\r\n}\r\n\r\n\r\nclass VisitTherapist extends Visit {\r\n    constructor (doctor,name,purpose,description,urgency,id,status,doctorname,ageInTerapist){\r\n        super(doctor,name,purpose,description,urgency,id,status,doctorname)\r\n        this.ageInTerapist=ageInTerapist\r\n    }\r\n    render(){\r\n        let visitTherapistContainer=` \r\n        <p>Status: ${this.status}</p>\r\n        <p>Purpose of the visit: ${this.purpose}</p>\r\n        <p>Brief description of the visit: ${this.description}</p>\r\n        <p>Urgensy: ${this.urgency}</p>\r\n        <p>Age: ${this.ageInTerapist}</p>\r\n        `\r\n        let visitcontent=document.querySelector(`[data-id='visit${this.id}']`)\r\n        visitcontent.insertAdjacentHTML('beforebegin',visitTherapistContainer)\r\n\r\n    }\r\n}\r\n\r\n\r\nclass VisitCardiolog extends Visit {\r\n    constructor (doctor,name,purpose,description,urgency,id,status,doctorname,age,bloodpressure,bmi,diseases){\r\n        super(doctor,name,purpose,description,urgency,id,status,doctorname)\r\n        this.age=age\r\n        this.bloodpressure=bloodpressure\r\n        this.bmi=bmi\r\n        this.diseases=diseases\r\n\r\n    }\r\n    render(){\r\n        let visitCardiologContainer=` \r\n        <p>Status: ${this.status}</p>\r\n        <p>Purpose of the visit: ${this.purpose}</p>\r\n        <p>Brief description of the visit: ${this.description}</p>\r\n        <p>Urgensy: ${this.urgency}</p>\r\n        <p>Age: ${this.age}</p>\r\n        <p>Bloodpressure: ${this.bloodpressure}</p>\r\n        <p>Body Mass Index: ${this.bmi}</p>\r\n        <p>Transferred diseases of the cardiovascular system: ${this.diseases}</p>\r\n\r\n        `\r\n        let visitcontent=document.querySelector(`[data-id='visit${this.id}']`)\r\n        visitcontent.insertAdjacentHTML('beforebegin',visitCardiologContainer)\r\n\r\n    }\r\n}\r\n\r\nfunction cardVisit() {\r\n  visitContainer.innerHTML=``\r\n \r\n  fetch(\"https://ajax.test-danit.com/api/v2/cards\",\r\n\r\n{\r\n  method: 'GET',\r\nheaders: {\r\n  'Content-Type': 'application/json',\r\n  'Authorization': `Bearer ${_login_js__WEBPACK_IMPORTED_MODULE_0__.token}`\r\n}})\r\n\r\n.then(response => response.json())\r\n.then(card => {card.map(el=>{\r\n  \r\n  if (card.length<=1){\r\n    document.getElementById(\"h1\").textContent=\"No items have been added\"\r\n  }\r\n  if(el.doctor){\r\n    document.getElementById(\"h1\").textContent=\"\"\r\n    let visit = new Visit (el.doctor,el.name,el.purpose,el.visitDescription,el.urgency,el.id,el.status,el.doctorname)\r\n \r\n        visit.render()\r\n        \r\n    }})})\r\n\r\n.catch(error => console.log(error))\r\n}\r\n\r\n\r\nfunction deleteCard(id) {\r\n    if (confirm('Are you sure you want to delete this post?')) {\r\n      fetch(`https://ajax.test-danit.com/api/v2/cards/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${_login_js__WEBPACK_IMPORTED_MODULE_0__.token}`\r\n          }})\r\n      \r\n        .then(() => {\r\n          alert('Post deleted');\r\n          const div = document.querySelector(`[data-id='${id}']`)\r\n\r\n            visitContainer.removeChild(div)\r\n            valid()\r\n           })\r\n    }\r\n    \r\n}\r\n\r\nfunction valid(){\r\n\r\n  fetch(\"https://ajax.test-danit.com/api/v2/cards\",\r\n\r\n{\r\n  method: 'GET',\r\nheaders: {\r\n  'Content-Type': 'application/json',\r\n  'Authorization': `Bearer ${_login_js__WEBPACK_IMPORTED_MODULE_0__.token}`\r\n}})\r\n\r\n.then(response => response.json())\r\n.then(card => {card.map(el=>{\r\n  \r\n  if (card.length<=1){\r\n    document.getElementById(\"h1\").textContent=\"No items have been added\"\r\n  }\r\n})})\r\n}\r\nfunction more(id) {\r\n  fetch(`https://ajax.test-danit.com/api/v2/cards/${id}`,\r\n  {\r\n    method: 'GET',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${_login_js__WEBPACK_IMPORTED_MODULE_0__.token}`\r\n  }})\r\n  \r\n  .then(response => response.json())\r\n  .then(el => {if(el.doctorname==\"therapist\") {\r\n    let visitTherapist = new VisitTherapist (el.doctor,el.name,el.purpose,el.visitDescription,el.urgency,el.id,el.status,el.doctorname,el.ageInTherapist)   \r\n    visitTherapist.render()\r\n    let btnShow=document.querySelector(`[data-id =\"morebutton${id}\"]`)\r\n\r\n    btnShow.style.display=\"none\"\r\n  }\r\n  if(el.doctorname==\"cardiologist\") {\r\n    let visitCardiolog= new VisitCardiolog (el.doctor,el.name,el.purpose,el.visitDescription,el.urgency,el.id,el.status,el.doctorname,el.age,el.bloodPressure,el.bmi,el.diseases)   \r\n    visitCardiolog.render()\r\n    let btnShow=document.querySelector(`[data-id =\"morebutton${id}\"]`)\r\n    btnShow.style.display=\"none\"\r\n  }\r\n  if(el.doctorname==\"dentist\") {\r\n    let visitDantist= new VisitDantist (el.doctor,el.name,el.purpose,el.visitDescription,el.urgency,el.id,el.status,el.doctorname,el.lastVisit)   \r\n    visitDantist.render()\r\n    let btnShow=document.querySelector(`[data-id =\"morebutton${id}\"]`)\r\n    btnShow.style.display=\"none\"\r\n  }\r\n  }\r\n  )\r\n  .catch(error => console.log(error))\r\n  }\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/cardVisit.js?");

/***/ }),

/***/ "./src/js/modules/creatingVisit.js":
/*!*****************************************!*\
  !*** ./src/js/modules/creatingVisit.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fetchVisitCard\": () => (/* binding */ fetchVisitCard),\n/* harmony export */   \"openVisitModal\": () => (/* binding */ openVisitModal),\n/* harmony export */   \"renderDoctorInputs\": () => (/* binding */ renderDoctorInputs),\n/* harmony export */   \"selectDoctorOptions\": () => (/* binding */ selectDoctorOptions)\n/* harmony export */ });\n/* harmony import */ var _forms_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./forms.js */ \"./src/js/modules/forms.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functions.js */ \"./src/js/modules/functions.js\");\n/* harmony import */ var _modals_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modals.js */ \"./src/js/modules/modals.js\");\n/* harmony import */ var _login_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./login.js */ \"./src/js/modules/login.js\");\n/* harmony import */ var _cardVisit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cardVisit.js */ \"./src/js/modules/cardVisit.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction creatingVisitModal() {\r\n    const open = document.querySelector('.btn__create-visit')\r\n    const place = document.querySelector('header')\r\n    //Модалка\r\n    const modal = new _modals_js__WEBPACK_IMPORTED_MODULE_2__.Modal({\r\n        class: 'header__visit-modal modal__container',\r\n    })\r\n    const modalVisit = place.appendChild(modal.render())\r\n    const visitForm = new _forms_js__WEBPACK_IMPORTED_MODULE_0__.VisitForm('Creating visit', {\r\n        class: 'visit-modal modal',\r\n        action: \"#\",\r\n        method: \"post\"\r\n    })\r\n    //Форма\r\n    visitForm.render(modalVisit)\r\n    visitForm.close()\r\n    ;(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.creatingSelectObject)('[data-custom-doctor]')\r\n    ;(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.creatingSelectObject)('[data-custom-urgency]')\r\n    fetchVisitCard(_login_js__WEBPACK_IMPORTED_MODULE_3__.token, modalVisit)\r\n    return modalVisit\r\n}\r\n\r\n\r\nfunction openVisitModal() {\r\n    const open = document.querySelector('.btn__create-visit')\r\n    open.addEventListener('click', () => {\r\n        creatingVisitModal().style.display = 'block'\r\n        selectDoctorOptions()\r\n\r\n    })\r\n}\r\n\r\n//Селект для доктора и рендер доп.инпутов\r\nfunction selectDoctorOptions() {\r\n    document.querySelector('[data-custom-doctor]').nextElementSibling.addEventListener('click', (e) => {\r\n        renderDoctorInputs ()\r\n\r\n    })\r\n}\r\n\r\n//рендер доп.инпутов\r\n\r\nfunction renderDoctorInputs () {\r\n    const selectDoctor = document.querySelector('[data-custom-doctor]')\r\n    const selectedDoctorName = selectDoctor.nextElementSibling.querySelector('.selected')\r\n    const cardiologist = new _forms_js__WEBPACK_IMPORTED_MODULE_0__.VisitCardiologistField()\r\n    const dentist = new _forms_js__WEBPACK_IMPORTED_MODULE_0__.VisitDentistsField()\r\n    const therapist = new _forms_js__WEBPACK_IMPORTED_MODULE_0__.VisitTherapistField()\r\n    const doctorFields = [cardiologist, dentist, therapist]\r\n    const customContainer = selectDoctor.nextElementSibling\r\n    const docField = document.querySelector('.doctor-field')\r\n    if (selectedDoctorName.outerText === '') {\r\n        return\r\n    }\r\n    if (selectedDoctorName) {\r\n        if (docField) {\r\n            docField.remove()\r\n        }\r\n        const selectedField = doctorFields.find(field => field.name === selectedDoctorName.outerText.toLowerCase())\r\n        customContainer.after(selectedField.render())\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//Отправка карточки на сервер\r\nfunction fetchVisitCard(token,modal) {\r\n    const submitBtn = document.querySelector('#submit-card-btn')\r\n    try {\r\n        submitBtn.addEventListener('click', async e => {\r\n            \r\n           \r\n            // setTimeout(cardVisit,1000,token)\r\n            e.preventDefault()\r\n            const patientName = document.querySelector('#patient-name').value\r\n            const visitPurpose = document.querySelector('#purpose').value\r\n            const visitDescription = document.querySelector('#description').value\r\n            const urgency = document.querySelector('[data-custom-urgency]')\r\n            const selectedUrgency = urgency.nextElementSibling.querySelector('.selected').outerText\r\n\r\n           \r\n            e.preventDefault()\r\n\r\n            if (document.querySelector('#cardiologist-field')) {\r\n                const bloodPressure = document.querySelector('#blood-pressure').value\r\n                const bmi = document.querySelector('#bmi').value\r\n                const diseases = document.querySelector('#cardio-diseases').value\r\n                const ageInCardio = document.querySelector('#age-in-cardiologist').value\r\n\r\n\r\n                const response = await fetch(\"https://ajax.test-danit.com/api/v2/cards\", {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${token}`\r\n                    },\r\n                    body: JSON.stringify({\r\n                        doctor: 'Appointment with the cardiologist',\r\n                        doctorname:'cardiologist',\r\n                        name: `${patientName}`,\r\n                        age: `${ageInCardio}`,\r\n                        bloodPressure : `${bloodPressure}`,\r\n                        bmi: `${bmi}`,\r\n                        diseases: `${diseases}`,\r\n                        purpose: `${visitPurpose}`,\r\n                        visitDescription: `${visitDescription}`,\r\n                        urgency: `${selectedUrgency}`,\r\n                        status:'open'\r\n                    })\r\n                })\r\n                if (!response.ok) {\r\n                    throw new Error('Cannot send card')\r\n                }\r\n                let result = await response.json()\r\n                console.log(result)\r\n                modal.remove()\r\n                let visit= new _cardVisit_js__WEBPACK_IMPORTED_MODULE_4__.Visit(\"\",`${patientName}`,`${visitPurpose}`,`${visitDescription}`,`${selectedUrgency}`,`${result.id}`,\"open\",\"cardiologist\")\r\n                visit.render()\r\n                return result\r\n            }\r\n            if(document.querySelector('#dentist-field')) {\r\n                const lastVisit = document.querySelector('#last-visit').value\r\n                const response = await fetch(\"https://ajax.test-danit.com/api/v2/cards\", {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${token}`\r\n                    },\r\n                    body: JSON.stringify({\r\n                        doctor: 'Appointment with the dentist',\r\n                        doctorname:'dentist',\r\n                        name: `${patientName}`,\r\n                        lastVisit: `${lastVisit}`,\r\n                        purpose: `${visitPurpose}`,\r\n                        visitDescription: `${visitDescription}`,\r\n                        urgency: `${selectedUrgency}`,\r\n                        status:'open'\r\n                    })\r\n                })\r\n\r\n                if (!response.ok) {\r\n                    throw new Error('Cannot send card')\r\n                }\r\n                let result = await response.json()\r\n                console.log(result)\r\n                modal.remove()\r\n                let visit= new _cardVisit_js__WEBPACK_IMPORTED_MODULE_4__.Visit(\"\",`${patientName}`,`${visitPurpose}`,`${visitDescription}`,`${selectedUrgency}`,`${result.id}`,\"open\",\"dentist\")\r\n                visit.render()\r\n                return result\r\n            }\r\n            if(document.querySelector('#therapist-field')) {\r\n                const ageInTherapist = document.querySelector('#age-in-therapist').value\r\n                const response = await fetch(\"https://ajax.test-danit.com/api/v2/cards\", {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${token}`\r\n                    },\r\n                    body: JSON.stringify({\r\n                        doctor: 'Appointment with the therapist',\r\n                        doctorname:'therapist',\r\n                        name: `${patientName}`,\r\n                        ageInTherapist: `${ageInTherapist}`,\r\n                        purpose: `${visitPurpose}`,\r\n                        visitDescription: `${visitDescription}`,\r\n                        urgency: `${selectedUrgency}`,\r\n                        status:'open'\r\n                    })\r\n                })\r\n                if (!response.ok) {\r\n                    throw new Error('Cannot send card')\r\n                }\r\n                let result = await response.json()\r\n                modal.remove()\r\n                let visit= new _cardVisit_js__WEBPACK_IMPORTED_MODULE_4__.Visit(\"\",`${patientName}`,`${visitPurpose}`,`${visitDescription}`,`${selectedUrgency}`,`${result.id}`,\"open\",\"therapist\")\r\n                visit.render()\r\n                \r\n                return result\r\n            }\r\n           \r\n        })\r\n    \r\n    } catch (err) {\r\n        alert(err.message)\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/creatingVisit.js?");

/***/ }),

/***/ "./src/js/modules/editCard.js":
/*!************************************!*\
  !*** ./src/js/modules/editCard.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"editCard\": () => (/* binding */ editCard)\n/* harmony export */ });\n/* harmony import */ var _login_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./login.js */ \"./src/js/modules/login.js\");\n/* harmony import */ var _modals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modals.js */ \"./src/js/modules/modals.js\");\n/* harmony import */ var _forms_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./forms.js */ \"./src/js/modules/forms.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./functions.js */ \"./src/js/modules/functions.js\");\n/* harmony import */ var _creatingVisit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./creatingVisit.js */ \"./src/js/modules/creatingVisit.js\");\n/* harmony import */ var _cardVisit_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cardVisit.js */ \"./src/js/modules/cardVisit.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nasync function editCard(token, cardId) {\r\n    try {\r\n        const response = await fetch(`https://ajax.test-danit.com/api/v2/cards/${cardId}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            },\r\n        })\r\n        if (!response.ok) {\r\n            throw new Error('Cannot get card')\r\n        }\r\n        let result = await response.json()\r\n\r\n        const place = document.querySelector('header')\r\n        //Модалка\r\n        console.log(result)\r\n        const modal = new _modals_js__WEBPACK_IMPORTED_MODULE_1__.Modal({\r\n            class: 'header__edit-visit-modal modal__container',\r\n        })\r\n        const modalVisit = place.appendChild(modal.render())\r\n        const visitForm = new _forms_js__WEBPACK_IMPORTED_MODULE_2__.VisitForm('Edit visit', {\r\n            class: 'edit-visit-modal modal',\r\n            action: \"#\",\r\n            method: \"put\"\r\n        })\r\n        const statusSelect = new _forms_js__WEBPACK_IMPORTED_MODULE_2__.Select([\r\n            {value: 0, text: 'Open'},\r\n            {value: 1, text: 'Done'},\r\n\r\n        ], {\r\n            class: 'edit-modal__status-options',\r\n            id: 'status-edit',\r\n            'data-custom-status': '',\r\n            required: ''\r\n        });\r\n        //Форма\r\n        visitForm.render(modalVisit)\r\n        //Open/Done select\r\n        const btnSubmit = document.querySelector('#submit-card-btn')\r\n        btnSubmit.before(statusSelect.render())\r\n        visitForm.close()\r\n        ;(0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.creatingSelectObject)('[data-custom-doctor]')\r\n        ;(0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.creatingSelectObject)('[data-custom-urgency]')\r\n        ;(0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.creatingSelectObject)('[data-custom-status]')\r\n        const selectedDocName = result.doctorname\r\n        //Установка значения для селекта  doctor\r\n        const selectDoctor = document.querySelector('[data-custom-doctor]')\r\n        const customSelectDiv = selectDoctor.nextSibling\r\n        const doctorNames = customSelectDiv.lastChild.children\r\n        const label = customSelectDiv.firstChild\r\n        for (let i = 0; i < doctorNames.length; i++) {\r\n            const liElement = doctorNames[i];\r\n            if (liElement.outerText.toLowerCase() === selectedDocName) {\r\n                liElement.classList.add('selected')\r\n                let labelText = `${selectedDocName}`\r\n                labelText = labelText.charAt(0).toUpperCase() + labelText.slice(1);\r\n                label.innerText = `${labelText}`\r\n            } else {\r\n                liElement.classList.remove('selected')\r\n            }\r\n        }\r\n        (0,_creatingVisit_js__WEBPACK_IMPORTED_MODULE_4__.renderDoctorInputs)()\r\n        if(selectedDocName === 'cardiologist') {\r\n            const bloodPressure = document.querySelector('#blood-pressure')\r\n            bloodPressure.value = `${result.bloodPressure}`\r\n            const bmi = document.querySelector('#bmi')\r\n            bmi.value = `${result.bmi}`\r\n            const diseases = document.querySelector('#cardio-diseases')\r\n            diseases.value = `${result.diseases}`\r\n            const ageIncardio = document.querySelector('#age-in-cardiologist')\r\n            ageIncardio.value = `${result.age}`\r\n        }\r\n        console.log(selectedDocName === 'dentist')\r\n        if(selectedDocName === 'dentist') {\r\n            const lastVisit = document.querySelector('#last-visit')\r\n            lastVisit.value = `${result.lastVisit}`\r\n        }\r\n        if(selectedDocName === 'therapist') {\r\n            const ageInTherapist = document.querySelector('#age-in-cardiologist')\r\n            ageInTherapist.value=`${result.ageInTherapist}`\r\n        }\r\n        const purpose = document.querySelector('#purpose')\r\n        purpose.value = `${result.purpose}`\r\n\r\n        const description = document.querySelector('#description')\r\n        description.value = `${result.visitDescription}`\r\n\r\n        const patientName = document.querySelector('#patient-name')\r\n        patientName.value = `${result.name}`\r\n\r\n        //Установка значения для селекта  urgency\r\n        const selectUrgency = document.querySelector('[data-custom-urgency]')\r\n        const selectedUrgencyName = result.urgency\r\n        const customUrgencyDiv = selectUrgency.nextSibling\r\n        const urgencyNames = customUrgencyDiv.lastChild.children\r\n        const labelUrgency = customUrgencyDiv.firstChild\r\n        for (let i = 0; i < urgencyNames.length; i++) {\r\n            const liElement = urgencyNames[i];\r\n            console.log(selectedUrgencyName)\r\n            if (liElement.outerText.toLowerCase() === selectedUrgencyName.toLowerCase()) {\r\n\r\n                liElement.classList.add('selected')\r\n                let labelText = `${selectedUrgencyName}`\r\n                labelText = labelText.charAt(0).toUpperCase() + labelText.slice(1);\r\n                labelUrgency.innerText = `${labelText}`\r\n            } else {\r\n                liElement.classList.remove('selected')\r\n            }\r\n        }\r\n\r\n        //Установка значения для селекта status\r\n        const selectStatus = document.querySelector('[data-custom-status]')\r\n        const selectedStatusName = result.status\r\n        const customStatusDiv = selectStatus.nextSibling\r\n        const statusNames = customStatusDiv.lastChild.children\r\n        const labelStatus = customStatusDiv.firstChild\r\n\r\n        for (let i = 0; i < statusNames.length; i++) {\r\n            const liElement = statusNames[i];\r\n            if (liElement.outerText.toLowerCase() === selectedStatusName) {\r\n                liElement.classList.add('selected')\r\n                let labelText = `${selectedStatusName}`\r\n                labelText = labelText.charAt(0).toUpperCase() + labelText.slice(1);\r\n                labelStatus.value = `${labelText}`\r\n            } else {\r\n                liElement.classList.remove('selected')\r\n            }\r\n        }\r\n        modalVisit.style.display = 'block'\r\n        fetchEditedCard(token,modalVisit,cardId)\r\n    } catch\r\n        (err) {\r\n        alert(err.message)\r\n    }\r\n}\r\n\r\nfunction fetchEditedCard(token,modal,cardId) {\r\n    const submitBtn = document.querySelector('#submit-card-btn')\r\n    try {\r\n        submitBtn.addEventListener('click', async e => {\r\n            e.preventDefault()\r\n            const patientName = document.querySelector('#patient-name').value\r\n            const visitPurpose = document.querySelector('#purpose').value\r\n            const visitDescription = document.querySelector('#description').value\r\n            const urgency = document.querySelector('[data-custom-urgency]')\r\n            const selectedUrgency = urgency.nextElementSibling.querySelector('.selected').outerText\r\n            console.log(selectedUrgency)\r\n            e.preventDefault()\r\n            \r\n            setTimeout(_cardVisit_js__WEBPACK_IMPORTED_MODULE_5__.cardVisit,1000,token)\r\n            if (document.querySelector('#cardiologist-field')) {\r\n                const bloodPressure = document.querySelector('#blood-pressure').value\r\n                const bmi = document.querySelector('#bmi').value\r\n                const diseases = document.querySelector('#cardio-diseases').value\r\n                const ageInCardio = document.querySelector('#age-in-cardiologist').value\r\n                const response = await fetch(`https://ajax.test-danit.com/api/v2/cards/${cardId}`, {\r\n                    method: 'PUT',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${token}`\r\n                    },\r\n                    body: JSON.stringify({\r\n                        id:`${cardId}`,\r\n                        doctor: 'Appointment with the cardiologist',\r\n                        doctorname:'cardiologist',\r\n                        name: `${patientName}`,\r\n                        age: `${ageInCardio}`,\r\n                        bloodPressure : `${bloodPressure}`,\r\n                        bmi: `${bmi}`,\r\n                        diseases: `${diseases}`,\r\n                        purpose: `${visitPurpose}`,\r\n                        visitDescription: `${visitDescription}`,\r\n                        urgency: `${selectedUrgency}`,\r\n                        status:'open'\r\n                    })\r\n                })\r\n                if (!response.ok) {\r\n                    throw new Error('Cannot send card')\r\n                }\r\n                let result = await response.json()\r\n                console.log(result)\r\n                modal.remove()\r\n                return result\r\n            }\r\n            if(document.querySelector('#dentist-field')) {\r\n                const lastVisit = document.querySelector('#last-visit').value\r\n                const response = await fetch(`https://ajax.test-danit.com/api/v2/cards/${cardId}`, {\r\n                    method: 'PUT',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${token}`\r\n                    },\r\n                    body: JSON.stringify({\r\n                        doctor: 'Appointment with the dentist',\r\n                        id:`${cardId}`,\r\n                        doctorname:'dentist',\r\n                        name: `${patientName}`,\r\n                        lastVisit: `${lastVisit}`,\r\n                        purpose: `${visitPurpose}`,\r\n                        visitDescription: `${visitDescription}`,\r\n                        urgency: `${selectedUrgency}`,\r\n                        status:'open'\r\n                    })\r\n                })\r\n\r\n                if (!response.ok) {\r\n                    throw new Error('Cannot send card')\r\n                }\r\n                let result = await response.json()\r\n                console.log(result)\r\n                modal.remove()\r\n                return result\r\n            }\r\n            if(document.querySelector('#therapist-field')) {\r\n                const ageInTherapist = document.querySelector('#age-in-therapist').value\r\n                const response = await fetch(`https://ajax.test-danit.com/api/v2/cards/${cardId}`, {\r\n                    method: 'PUT',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer ${token}`\r\n                    },\r\n                    body: JSON.stringify({\r\n                        id:`${cardId}`,\r\n                        doctor: 'Appointment with the therapist',\r\n                        doctorname:'therapist',\r\n                        name: `${patientName}`,\r\n                        ageInTherapist: `${ageInTherapist}`,\r\n                        purpose: `${visitPurpose}`,\r\n                        visitDescription: `${visitDescription}`,\r\n                        urgency: `${selectedUrgency}`,\r\n                        status:'open'\r\n                    })\r\n                })\r\n                if (!response.ok) {\r\n                    throw new Error('Cannot send card')\r\n                }\r\n                let result = await response.json()\r\n                modal.remove()\r\n                console.log(result)\r\n                return result\r\n            }\r\n\r\n        })\r\n    } catch (err) {\r\n        alert(err.message)\r\n    }\r\n}\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/editCard.js?");

/***/ }),

/***/ "./src/js/modules/forms.js":
/*!*********************************!*\
  !*** ./src/js/modules/forms.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CustomSelect\": () => (/* binding */ CustomSelect),\n/* harmony export */   \"FormButton\": () => (/* binding */ FormButton),\n/* harmony export */   \"Select\": () => (/* binding */ Select),\n/* harmony export */   \"VisitCardiologistField\": () => (/* binding */ VisitCardiologistField),\n/* harmony export */   \"VisitDentistsField\": () => (/* binding */ VisitDentistsField),\n/* harmony export */   \"VisitForm\": () => (/* binding */ VisitForm),\n/* harmony export */   \"VisitTherapistField\": () => (/* binding */ VisitTherapistField),\n/* harmony export */   \"logInForm\": () => (/* binding */ logInForm)\n/* harmony export */ });\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functions.js */ \"./src/js/modules/functions.js\");\n\r\n\r\n\r\n/*============================*/\r\n/*Form */\r\n\r\n/*============================*/\r\n\r\nclass Form {\r\n    constructor(attributes = {}) {\r\n        this.attributes = attributes;\r\n    }\r\n\r\n    render(placeToAppend,modalToClose) {\r\n        this.form = (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('form');\r\n        // Атрибуты формы\r\n        for (const [attr, value] of Object.entries(this.attributes)) {\r\n            (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.setAttributes)(this.form, attr, value);\r\n        }\r\n        placeToAppend.appendChild(this.form);\r\n\r\n        //Крестик для закрытия\r\n        this.closeIcon = new closeIcon({\r\n            class: 'modal__close'\r\n        }).render()\r\n        this.form.appendChild(this.closeIcon);\r\n        return this.form;\r\n    }\r\n\r\n    close() {\r\n        //Закрытие модалки\r\n            window.addEventListener('click', (e) => {\r\n\r\n                if (e.target === this.form.parentElement) this.form.parentElement.style.display = 'none'\r\n            })\r\n        this.closeIcon.addEventListener('click', () => {\r\n        this.form.parentElement.remove()})\r\n    }\r\n}\r\n\r\n\r\n/*============================*/\r\n/*Form Elements*/\r\n\r\n/*============================*/\r\nclass Element {\r\n    constructor(attributes = {}) {\r\n        this.attributes = attributes;\r\n    }\r\n\r\n    render() {\r\n        const element = (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.createElement)(this.constructor.tagName);\r\n        for (const [attr, value] of Object.entries(this.attributes)) {\r\n            (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.setAttributes)(element, attr, value);\r\n        }\r\n        return element;\r\n    }\r\n}\r\n\r\n\r\nclass Wrapper extends Element {\r\n    static tagName = 'div'\r\n\r\n    constructor(attributes = {}) {\r\n        super(attributes)\r\n    }\r\n\r\n}\r\n\r\n\r\nclass Title extends Element {\r\n    static tagName = 'h2';\r\n\r\n    constructor(text, attributes = {}) {\r\n        super(attributes);\r\n        this.text = text;\r\n    }\r\n\r\n    render() {\r\n        const element = super.render();\r\n        element.innerHTML = this.text;\r\n        return element\r\n    }\r\n\r\n}\r\n\r\n\r\nclass Label extends Element {\r\n    static tagName = 'label';\r\n\r\n    constructor(text, attributes = {}) {\r\n        super(attributes);\r\n        this.text = text;\r\n    }\r\n\r\n    render() {\r\n        const element = super.render();\r\n        element.innerHTML = this.text;\r\n        return element\r\n    }\r\n\r\n}\r\n\r\n\r\nclass Input extends Element {\r\n    static tagName = 'input';\r\n\r\n    constructor(attributes = {}) {\r\n        super(attributes);\r\n    }\r\n}\r\n\r\nclass Select extends Element {\r\n    static tagName = 'select';\r\n\r\n    constructor(options = [], attributes = {}) {\r\n        super(attributes);\r\n        this.options = options;\r\n\r\n    }\r\n\r\n    render() {\r\n        const element = super.render();\r\n        this.options.forEach(option => {\r\n            const optionEl = (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('option');\r\n            optionEl.value = option.value;\r\n            optionEl.text = option.text;\r\n            element.appendChild(optionEl);\r\n        });\r\n        return element;\r\n    }\r\n}\r\n\r\nclass FormButton extends Element {\r\n    static tagName = 'button';\r\n\r\n    constructor(label, attributes = {}) {\r\n        super(attributes);\r\n        this.label = label;\r\n    }\r\n\r\n    render() {\r\n        const element = super.render();\r\n        element.innerText = this.label;\r\n        return element;\r\n    }\r\n}\r\n\r\nclass Textarea extends Element {\r\n    static tagName = 'textarea';\r\n\r\n    constructor(attributes) {\r\n        super(attributes);\r\n\r\n    }\r\n}\r\n\r\n\r\nclass Span extends Element {\r\n    static tagName = 'span'\r\n\r\n    constructor(text, attributes) {\r\n        super(attributes);\r\n        this.text = text\r\n    }\r\n\r\n    render() {\r\n        const element = super.render();\r\n        element.innerText = this.text;\r\n        return element;\r\n    }\r\n}\r\n\r\n class closeIcon extends Element {\r\n    static tagName = 'span'\r\n\r\n    constructor(attributes = {}) {\r\n        super(attributes)\r\n    }\r\n\r\n    render() {\r\n        const element = super.render();\r\n        element.innerText = '╳'\r\n        return element;\r\n    }\r\n}\r\n\r\n/*============================*/\r\n/*Custom Select*/\r\n\r\n/*============================*/\r\n\r\nclass CustomSelect {\r\n    constructor(element) {\r\n        this.element = element;\r\n        this.options = getFormattedOptions(element.querySelectorAll('option'));\r\n        this.customElement = (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div');\r\n        this.labelElement = (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('span');\r\n        this.optionsCustomElement = (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('ul');\r\n        setupCustomElement(this)\r\n        element.style.display = 'none'\r\n        element.after(this.customElement)\r\n    }\r\n\r\n    get selectedOption() {\r\n        return this.options.find(option => option.selected)\r\n\r\n    }\r\n\r\n    get selectedOptionIndex() {\r\n        return this.options.indexOf(this.selectedOption)\r\n    }\r\n\r\n    selectValue(value) {\r\n        const newSelectedOption = this.options.find(option => {\r\n            return option.value === value\r\n        })\r\n        const prevSelectedOption = this.selectedOption\r\n        prevSelectedOption.selected = false\r\n        prevSelectedOption.element.selected = false\r\n\r\n        newSelectedOption.selected = true\r\n        newSelectedOption.element.selected = true\r\n\r\n        this.labelElement.innerText = newSelectedOption.label\r\n        this.optionsCustomElement.querySelector(`[data-value='${prevSelectedOption.value}']`)\r\n            .classList.remove('selected')\r\n        const newCustomElement = this.optionsCustomElement.querySelector(`[data-value='${newSelectedOption.value}']`)\r\n        newCustomElement.classList.add('selected')\r\n        newCustomElement.scrollIntoView({block: 'nearest'})\r\n    }\r\n}\r\n\r\nfunction setupCustomElement(select) {\r\n    select.customElement.classList.add('custom-select-container')\r\n    select.customElement.tabIndex = 0\r\n\r\n    select.labelElement.classList.add('custom-select-value')\r\n    select.labelElement.innerText = select.selectedOption.label\r\n    select.customElement.append(select.labelElement)\r\n\r\n    select.optionsCustomElement.classList.add('custom-select-options')\r\n    select.options.forEach(option => {\r\n        const optionElement = (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('li')\r\n        optionElement.classList.add('custom-select-option')\r\n        optionElement.classList.toggle(`selected`, option.selected)\r\n        optionElement.innerText = option.label\r\n        optionElement.dataset.value = option.value\r\n        optionElement.addEventListener('click', () => {\r\n            select.selectValue(option.value)\r\n            select.optionsCustomElement.classList.remove('show')\r\n        })\r\n        select.optionsCustomElement.append(optionElement)\r\n    })\r\n    select.customElement.append(select.optionsCustomElement)\r\n\r\n    select.labelElement.addEventListener('click', () => {\r\n        select.optionsCustomElement.classList.toggle('show')\r\n    })\r\n\r\n    select.customElement.addEventListener('blur', () => {\r\n        select.optionsCustomElement.classList.remove('show')\r\n    })\r\n\r\n    let debounceTimeout\r\n    let searchTerm = ''\r\n\r\n    select.customElement.addEventListener('keydown', e => {\r\n        switch (e.code) {\r\n            case 'Space':\r\n                select.optionsCustomElement.classList.toggle('show')\r\n                break\r\n            case 'ArrowUp': {\r\n                const prevOption = select.options[select.selectedOptionIndex - 1]\r\n                if (prevOption) {\r\n                    select.selectValue(prevOption.value)\r\n                }\r\n                break\r\n            }\r\n            case 'ArrowDown': {\r\n                const nextOption = select.options[select.selectedOptionIndex + 1]\r\n                if (nextOption) {\r\n                    select.selectValue(nextOption.value)\r\n                }\r\n                break\r\n            }\r\n            case 'Enter':\r\n            case 'Escape':\r\n                select.optionsCustomElement.classList.remove('show')\r\n                break\r\n            default: {\r\n                clearTimeout(debounceTimeout)\r\n                searchTerm += e.key\r\n                debounceTimeout = setTimeout(() => {\r\n                    searchTerm = ''\r\n                }, 500)\r\n\r\n                const searchedOption = select.options.find(option => {\r\n                    return option.label.toLowerCase().startsWith(searchTerm)\r\n                })\r\n                if (searchedOption) {\r\n                    select.selectValue(searchedOption.value)\r\n                }\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n\r\nfunction getFormattedOptions(optionElements) {\r\n    return [...optionElements].map(optionElement => {\r\n        return {\r\n            value: optionElement.value,\r\n            label: optionElement.label,\r\n            selected: optionElement.selected,\r\n            element: optionElement\r\n        }\r\n    })\r\n}\r\n\r\n\r\n/*==============================================*/\r\n\r\n/*LogIn Form*/\r\n\r\n/*==============================================*/\r\nclass logInForm extends Form {\r\n    constructor(title, attributes = {}) {\r\n        super(attributes)\r\n        this.title = title\r\n\r\n    }\r\n\r\n    render(placeToAppend) {\r\n        //Создание формы\r\n        const form = super.render(placeToAppend);\r\n        //wrapper\r\n        const wrap = new Wrapper({\r\n            class: 'login-modal__wrap modal__wrap'\r\n        })\r\n        const wrapEl = form.appendChild(wrap.render())\r\n\r\n        //Заголовок\r\n        const title = new Title(this.title, {\r\n            class: 'login-modal__title modal__name'\r\n        })\r\n        wrapEl.appendChild(title.render())\r\n\r\n        //Input email\r\n        const inputEmail = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"email\",\r\n            placeholder: \"Enter Username\",\r\n            name: 'uname',\r\n            required: '',\r\n        })\r\n        wrapEl.appendChild(inputEmail.render())\r\n\r\n\r\n        //Alert email\r\n        const alertEmail = new Span('Correct your email,please', {\r\n            class: \"msg hidden\"\r\n        })\r\n        wrapEl.appendChild(alertEmail.render())\r\n\r\n\r\n        //Input password\r\n        const inputPassword = new Input({\r\n            class: \"input\",\r\n            type: \"password\",\r\n            id: \"password\",\r\n            placeholder: \"Enter Password\",\r\n            name: 'psw',\r\n            required: '',\r\n        })\r\n        wrapEl.appendChild(inputPassword.render())\r\n\r\n        //Submit Button\r\n        const submitButton = new FormButton('Submit', {\r\n            class: \"btn__submit login-modal__btn-submit\",\r\n            type: \"submit\",\r\n            id: \"submit-login\"\r\n        })\r\n        wrapEl.appendChild(submitButton.render())\r\n        return form\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n/*==============================================*/\r\n\r\n/*Filter Form*/\r\n/*==============================================*/\r\n/*\r\n\r\nexport class FilterForm extends Form {\r\n    constructor(attributes={}) {\r\n        super(attributes);\r\n        if (!Array.isArray(this.attributes.class)) {\r\n            this.attributes.class = [];\r\n        }\r\n        this.attributes.class.push('filters__form');\r\n    }\r\n    renderForm(placeToAppend) {\r\n        //Создание формы\r\n        const form = super.renderForm(placeToAppend);\r\n\r\n        //Цель визита или заголовок\r\n        const inputPurpose = new Input({\r\n            class:\"filters__search\",\r\n            type:\"text\",\r\n            placeholder:\"title / content of the visit\"\r\n        })\r\n        form.appendChild(inputPurpose.render())\r\n\r\n        //\r\n    }\r\n    }\r\n*/\r\n\r\n/*==============================================*/\r\n\r\n/*Visit Form*/\r\n\r\n/*==============================================*/\r\nclass VisitForm extends Form {\r\n    constructor(title, attributes = {}) {\r\n        super(attributes);\r\n        if (!Array.isArray(this.attributes.class)) {\r\n            this.attributes.class = [];\r\n        }\r\n        this.attributes.class.push(['modal', 'visit-modal'].join(' '));\r\n        this.title = title\r\n    }\r\n\r\n    render(placeToAppend) {\r\n        //Создание формы\r\n        const form = super.render(placeToAppend);\r\n        //wrapper\r\n        const wrap = new Wrapper({\r\n            class: 'visit-modal__wrap modal__wrap'\r\n        })\r\n        const wrapEl = form.appendChild(wrap.render())\r\n\r\n        //Заголовок\r\n        const title = new Title(this.title, {\r\n            class: 'visit-modal__title modal__name'\r\n        })\r\n        wrapEl.appendChild(title.render())\r\n        //Выбор врача select\r\n        const labelDoctor = new Label('Choose doctor:', {\r\n            for: \"doctor\"\r\n        })\r\n        wrapEl.appendChild(labelDoctor.render())\r\n        const selectDoctor = new Select([\r\n            {value:0, text:''},\r\n            {value: 1, text: 'Cardiologist'},\r\n            {value: 2, text: 'Dentist'},\r\n            {value: 3, text: 'Therapist'},\r\n\r\n        ], {\r\n            class: 'visit-modal__select-doctor',\r\n            id: 'doctor',\r\n            'data-custom-doctor': '',\r\n            required: ''\r\n        });\r\n        wrapEl.appendChild(selectDoctor.render());\r\n\r\n        //Input цель визита\r\n        const labelPurpose = new Label('Purpose of the appointment:', {\r\n            for: \"purpose\"\r\n        })\r\n        wrapEl.appendChild(labelPurpose.render())\r\n        const inputPurpose = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"purpose\",\r\n            required: ''\r\n        })\r\n        wrapEl.appendChild(inputPurpose.render())\r\n\r\n        //Textarea для короткого описания визита\r\n        const labelBriefText = new Label('Brief description of the visit:', {\r\n            for: \"description\"\r\n        })\r\n        wrapEl.appendChild(labelBriefText.render())\r\n        const textBrief = new Textarea({\r\n            class: \"input\",\r\n            id: \"description\",\r\n        })\r\n        wrapEl.appendChild(textBrief.render())\r\n\r\n        //Select для срочности визита\r\n        const labelUrgency = new Label('Urgency:', {\r\n            for: \"urgency\"\r\n        })\r\n        wrapEl.appendChild(labelUrgency.render())\r\n        const urgency = new Select([\r\n            {value: 0, text: 'Normal'},\r\n            {value: 1, text: 'Priority'},\r\n            {value: 2, text: 'Emergency'},\r\n\r\n        ], {\r\n            class: 'visit-modal__urgency-options',\r\n            id: 'urgency',\r\n            'data-custom-urgency': '',\r\n            required: ''\r\n        });\r\n        wrapEl.appendChild(urgency.render());\r\n\r\n        //Input для имени\r\n        const labelName = new Label('First Name and Last Name:', {\r\n            for: \"patient-name\"\r\n        })\r\n        wrapEl.appendChild(labelName.render())\r\n        const inputName = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"patient-name\",\r\n            required: ''\r\n        })\r\n        wrapEl.appendChild(inputName.render())\r\n\r\n        //Button Submit\r\n        const submitButton = new FormButton('Submit Visit', {\r\n            class: \"btn__search\",\r\n            type: \"submit\",\r\n            id: \"submit-card-btn\"\r\n        })\r\n        wrapEl.appendChild(submitButton.render())\r\n        return form;\r\n    }\r\n}\r\n\r\nclass VisitCardiologistField {\r\n    constructor() {\r\n        this.name = 'cardiologist'\r\n    }\r\n\r\n    render() {\r\n        const doctorFieldWrap = new Wrapper({\r\n            class: \"visit-modal__cardiologist-options doctor-field\",\r\n            'data-value': \"0\",\r\n            id: 'cardiologist-field'\r\n\r\n        })\r\n        const doctorField = doctorFieldWrap.render()\r\n        //\r\n        const labelPressure = new Label('Normal blood pressure:', {\r\n            for: \"blood-pressure\"\r\n        })\r\n        doctorField.append(labelPressure.render())\r\n        const inputPressure = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"blood-pressure\",\r\n            required: ''\r\n        })\r\n        doctorField.append(inputPressure.render())\r\n        //\r\n        const labelBmi = new Label('Body mass index:', {\r\n            for: \"bmi\"\r\n        })\r\n        doctorField.append(labelBmi.render())\r\n        const inputBmi = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"bmi\",\r\n            required: ''\r\n        })\r\n        doctorField.append(inputBmi.render())\r\n\r\n        //\r\n        const labelDisease = new Label('Transferred diseases of the cardiovascular system:', {\r\n            for: \"cardio-diseases\"\r\n        })\r\n        doctorField.append(labelDisease.render())\r\n        const inputDisease = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"cardio-diseases\",\r\n            required: ''\r\n        })\r\n        doctorField.append(inputDisease.render())\r\n\r\n\r\n        //\r\n        const labelAge = new Label('Age:', {\r\n            for: \"age-in-cardiologist\"\r\n        })\r\n        doctorField.append(labelAge.render())\r\n        const inputAge = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"age-in-cardiologist\",\r\n            required: ''\r\n        })\r\n        doctorField.appendChild(inputAge.render())\r\n        return doctorField\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nclass VisitDentistsField {\r\n    constructor() {\r\n        this.name = 'dentist'\r\n    }\r\n\r\n    render() {\r\n        const doctorFieldWrap = new Wrapper({\r\n            class: \"visit-modal__dentist-options doctor-field\",\r\n            'data-value': \"0\",\r\n            id: 'dentist-field'\r\n        })\r\n        const doctorField = doctorFieldWrap.render()\r\n        const labelLastVisit = new Label('Date of the last visit:', {\r\n            for: \"last-visit\"\r\n        })\r\n        doctorField.appendChild(labelLastVisit.render())\r\n        const inputLastVisit = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"last-visit\",\r\n            required: ''\r\n        })\r\n        doctorField.appendChild(inputLastVisit.render())\r\n        return doctorField\r\n    }\r\n}\r\n\r\n\r\nclass VisitTherapistField {\r\n    constructor() {\r\n        this.name = 'therapist'\r\n    }\r\n\r\n    render() {\r\n        const doctorFieldWrap = new Wrapper({\r\n            class: \"visit-modal__therapist-options doctor-field\",\r\n            'data-value': \"0\",\r\n            id: 'therapist-field'\r\n        })\r\n        const doctorField = doctorFieldWrap.render()\r\n        const labelAge = new Label('Age:', {\r\n            for: \"age-in-therapist\"\r\n        })\r\n        doctorField.appendChild(labelAge.render())\r\n        const inputAge = new Input({\r\n            class: \"input\",\r\n            type: \"text\",\r\n            id: \"age-in-therapist\",\r\n            required: ''\r\n        })\r\n        doctorField.appendChild(inputAge.render())\r\n        return doctorField\r\n    }\r\n}\r\n\r\n\r\n/*\r\nexport class EditForm extends VisitForm {\r\n    constructor(attributes){\r\n        super(attributes)\r\n    }\r\n    render(placeToAppend) {\r\n        const form = super.render(placeToAppend);\r\n        const status = new Select([\r\n            {value: 0, text: 'Open'},\r\n            {value: 1, text: 'Done'},\r\n\r\n        ], {\r\n            class: 'edit-modal__status-options',\r\n            id: 'status-edit',\r\n            'data-custom-urgency': '',\r\n            required: ''\r\n        });\r\n        form.appendChild(status.render())\r\n    }\r\n\r\n}\r\n*/\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/forms.js?");

/***/ }),

/***/ "./src/js/modules/functions.js":
/*!*************************************!*\
  !*** ./src/js/modules/functions.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createDiv\": () => (/* binding */ createDiv),\n/* harmony export */   \"createElement\": () => (/* binding */ createElement),\n/* harmony export */   \"creatingSelectObject\": () => (/* binding */ creatingSelectObject),\n/* harmony export */   \"isWebp\": () => (/* binding */ isWebp),\n/* harmony export */   \"setAttributes\": () => (/* binding */ setAttributes)\n/* harmony export */ });\n/* harmony import */ var _forms_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./forms.js */ \"./src/js/modules/forms.js\");\n\r\n/* Проверка поддержки webp, добавление класса webp или no-webp для HTML */\r\nfunction isWebp() {\r\n\t// Проверка поддержки webp\r\n\tfunction testWebP(callback) {\r\n\t\tlet webP = new Image();\r\n\t\twebP.onload = webP.onerror = function () {\r\n\t\t\tcallback(webP.height == 2);\r\n\t\t};\r\n\t\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n\t}\r\n\t// Добавление класса _webp или _no-webp для HTML\r\n\ttestWebP(function (support) {\r\n\t\tlet className = support === true ? 'webp' : 'no-webp';\r\n\t\tdocument.documentElement.classList.add(className);\r\n\t});\r\n}\r\n/*============================*/\r\n/*Cоздание элемента*/\r\n/*============================*/\r\n\r\n\r\nfunction createElement (tag) {\r\n\treturn document.createElement(`${tag}`)\r\n}\r\n\r\n/*============================*/\r\n/*Установка аттрибутов*/\r\n/*============================*/\r\n\r\nfunction setAttributes(element,attribute,value) {\r\n\t\treturn  element.setAttribute(`${attribute}`,`${value}`)\r\n}\r\n\r\nfunction createDiv(...attributes) {\r\n\tconst div = document.createElement(`div`)\r\n\t div.setAttribute(...attributes)\r\n\treturn div\r\n}\r\n\r\n/*============================*/\r\n/*Создание кастомного селекта*/\r\n/*============================*/\r\n\r\nfunction creatingSelectObject(selector) {\r\n\tconst selectElements = document.querySelectorAll(selector);\r\n\tlet select\r\n\tselectElements.forEach(selectElement => {\r\n\t\tselect = new _forms_js__WEBPACK_IMPORTED_MODULE_0__.CustomSelect(selectElement);\r\n\t});\r\n\treturn select;\r\n}\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/functions.js?");

/***/ }),

/***/ "./src/js/modules/login.js":
/*!*********************************!*\
  !*** ./src/js/modules/login.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"openLogin\": () => (/* binding */ openLogin),\n/* harmony export */   \"token\": () => (/* binding */ token)\n/* harmony export */ });\n/* harmony import */ var _modals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modals.js */ \"./src/js/modules/modals.js\");\n/* harmony import */ var _forms_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./forms.js */ \"./src/js/modules/forms.js\");\n/* harmony import */ var _cardVisit_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cardVisit.js */ \"./src/js/modules/cardVisit.js\");\n\r\n\r\nlet token\r\n;\r\n\r\n\r\nfunction creatingLoginModal() {\r\n    const place = document.querySelector('header')\r\n    const modal = new _modals_js__WEBPACK_IMPORTED_MODULE_0__.Modal({\r\n        class: 'header__login-container modal__container',\r\n    })\r\n    const modalLogin = place.appendChild(modal.render())\r\n\r\n    const loginForm = new _forms_js__WEBPACK_IMPORTED_MODULE_1__.logInForm('Please, login', {\r\n        class: 'visit-modal modal',\r\n        action: \"#\",\r\n        method: \"post\"\r\n    })\r\n    loginForm.render(modalLogin)\r\n    loginForm.close()\r\n    sendLoginData (modalLogin)\r\n    return modalLogin\r\n}\r\n\r\n\r\nfunction sendLoginData (modal) {\r\n    const submitButton = document.getElementById('submit-login')\r\n\r\n    submitButton.addEventListener('click', async e => {\r\n        e.preventDefault()\r\n        const email = document.getElementById('email').value\r\n        const password = document.getElementById('password').value\r\n      const  response = await fetch(\"https://ajax.test-danit.com/api/v2/cards/login\", {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ email: `${email}`, password: `${password}` })\r\n        })\r\n          if(!response.ok) {\r\n              throw new Error('Cannot login')\r\n          }\r\n          token = await response.text()\r\n        console.log(token)\r\n            modal.remove()\r\n            \r\n            ;(0,_cardVisit_js__WEBPACK_IMPORTED_MODULE_2__.cardVisit)(token)\r\n            \r\n\r\n            \r\n          \r\n\r\n        document.querySelector('.btn__create-visit').style.display=\"block\"\r\n        document.querySelector('.btn__enter').style.display=\"none\"\r\n    })\r\n    \r\n\r\n}\r\n\r\n\r\nfunction openLogin() {\r\n    const open = document.querySelector('.btn__enter-text')\r\n    open.addEventListener('click',() => creatingLoginModal().style.display='block')\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/login.js?");

/***/ }),

/***/ "./src/js/modules/modals.js":
/*!**********************************!*\
  !*** ./src/js/modules/modals.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Modal\": () => (/* binding */ Modal),\n/* harmony export */   \"ModalButton\": () => (/* binding */ ModalButton)\n/* harmony export */ });\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functions.js */ \"./src/js/modules/functions.js\");\n/* harmony import */ var _forms_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./forms.js */ \"./src/js/modules/forms.js\");\n\r\n\r\n\r\n\r\n\r\nclass Modal {\r\n    constructor(attributes = {}) {\r\n        this.attributes = attributes\r\n    }\r\n\r\n    render() {\r\n        //Контейнер модалки\r\n        this.modalContainer = (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.createElement)('div');\r\n        for (const [attr, value] of Object.entries(this.attributes)) {\r\n            (0,_functions_js__WEBPACK_IMPORTED_MODULE_0__.setAttributes)(this.modalContainer, attr, value);\r\n        }\r\n        return this.modalContainer\r\n    }\r\n\r\n}\r\n\r\n\r\n//Кнопка для модалки\r\nclass ModalButton extends _forms_js__WEBPACK_IMPORTED_MODULE_1__.FormButton {\r\n    static tagName = 'button';\r\n\r\n    constructor(label, attributes = {}) {\r\n        super(attributes);\r\n        this.label = label;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/modals.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;